2024-11-07 10:32:09,713 [INFO] src.helperFunctions.slack_utils: Slack API response in create_slack_channel: {'ok': True, 'channel': {'id': 'C07V8NY1R34', 'name': 'incident-so-1653-1730968329', 'is_channel': True, 'is_group': False, 'is_im': False, 'is_mpim': False, 'is_private': False, 'created': 1730968329, 'is_archived': False, 'is_general': False, 'unlinked': 0, 'name_normalized': 'incident-so-1653-1730968329', 'is_shared': False, 'is_org_shared': False, 'is_pending_ext_shared': False, 'pending_shared': [], 'context_team_id': 'T3GD0HY3H', 'updated': 1730968329391, 'parent_conversation': None, 'creator': 'U06PWQY0ZND', 'is_ext_shared': False, 'shared_team_ids': ['T3GD0HY3H'], 'pending_connected_team_ids': [], 'is_member': True, 'last_read': '0000000000.000000', 'topic': {'value': '', 'creator': '', 'last_set': 0}, 'purpose': {'value': '', 'creator': '', 'last_set': 0}, 'previous_names': [], 'priority': 0}}
2024-11-07 10:32:09,713 [INFO] src.helperFunctions.slack_utils: Channel created successfully. Channel ID: C07V8NY1R34
2024-11-07 10:32:09,953 [INFO] src.helperFunctions.slack_utils: Bot enabled to join the channel: C07V8NY1R34
2024-11-07 10:32:12,248 [INFO] src.helperFunctions.slack_utils: Message posted to Slack channel ID C07V8NY1R34
2024-11-07 10:32:12,249 [INFO] src.routers.incident: Posted message to incident channel incident-so-1653
2024-11-07 10:32:12,562 [INFO] src.helperFunctions.slack_utils: Message posted to Slack channel ID C07GL77APRS
2024-11-07 10:32:12,562 [INFO] src.routers.incident: Posted message to general outages channel
2024-11-07 10:32:12,868 [INFO] src.helperFunctions.slack_utils: Message posted to Slack channel ID CM9EKPHU4
2024-11-07 10:32:12,868 [INFO] src.routers.incident: Posted message to Video Distribution - Genius Live team channel
2024-11-07 10:32:13,427 [INFO] httpx: HTTP Request: POST https://api.statuspage.io/v1/pages/x0c3bgkzj0yw/incidents "HTTP/1.1 201 Created"
2024-11-07 10:32:13,428 [INFO] root: Statuspage response: 201 - {"id":"863f2hydpmh6","components":[{"id":"jmq3t1734kz6","page_id":"x0c3bgkzj0yw","group_id":null,"created_at":"2024-10-18T08:52:40Z","updated_at":"2024-11-07T08:32:13Z","group":false,"name":"API integraiton","description":"Incident managament application","position":3,"status":"degraded_performance","showcase":true,"only_show_if_degraded":false,"automation_email":"component+9d11164f9dab4617af9ee72f9832dedf@notifications.statuspage.io","start_date":"2024-10-18"}],"created_at":"2024-11-07T08:32:13Z","impact":"minor","impact_override":null,"incident_updates":[{"id":"4j54b9vngtsh","incident_id":"863f2hydpmh6","affected_components":[{"code":"jmq3t1734kz6","name":"API integraiton","old_status":"operational","new_status":"degraded_performance"}],"body":"*Incident Summary:*\n----------------------------------\n*SO Number:* SO-1653\n*Severity Level:* Minor\n*Affected Products:* BetVision\n*Suspected Teams:* Video Distribution - Genius Live\n*Start Time:* 2024-11-01 01:00:00\n*Affected Components:* \n\n*Additional Details:*\n----------------------------------\n*Description:* Testing of slack channel creation.Not an incident\n*Message:* None.Testing of an automation app\n*Customer Affected:* Yes","created_at":"2024-11-07T08:32:13.252Z","custom_tweet":null,"deliver_notifications":true,"display_at":"2024-11-07T08:32:13.252Z","status":"investigating","tweet_id":null,"twitter_updated_at":null,"updated_at":"2024-11-07T08:32:13.252Z","wants_twitter_update":false}],"metadata":{},"monitoring_at":null,"name":"ðŸš¨ Incident Report: SO-1653 ðŸš¨","page_id":"x0c3bgkzj0yw","postmortem_body":null,"postmortem_body_last_updated_at":null,"postmortem_ignored":false,"postmortem_notified_subscribers":false,"postmortem_notified_twitter":false,"postmortem_published_at":null,"resolved_at":null,"scheduled_auto_completed":false,"scheduled_auto_in_progress":false,"scheduled_for":null,"auto_transition_deliver_notifications_at_end":null,"auto_transition_deliver_notifications_at_start":null,"auto_transition_to_maintenance_state":null,"auto_transition_to_operational_state":null,"scheduled_remind_prior":false,"scheduled_reminded_at":null,"scheduled_until":null,"shortlink":"https://stspg.io/q8vm71sgkcq5","status":"investigating","updated_at":"2024-11-07T08:32:13Z","reminder_intervals":null}
2024-11-07 10:32:13,435 [INFO] root: Statuspage incident created succesfully with and id of 863f2hydpmh6
2024-11-07 10:32:13,435 [ERROR] root: Unexpected error creating Statuspage incident for SO SO-1653: 'StatuspageCreationResponse' object has no attribute 'get'
2024-11-07 10:39:13,838 [INFO] src.routers.incident: Handling the incident update command
2024-11-07 10:39:55,006 [ERROR] root: Failed to update statuspage incident status: 400: No statuspage incident ID found in the database.
2024-11-07 10:40:23,303 [INFO] httpx: HTTP Request: PATCH https://api.statuspage.io/v1/pages/x0c3bgkzj0yw/incidents/863f2hydpmh6 "HTTP/1.1 200 OK"
2024-11-07 10:40:23,305 [INFO] root: Statuspage incident updated: {'id': '863f2hydpmh6', 'components': [{'id': 'jmq3t1734kz6', 'page_id': 'x0c3bgkzj0yw', 'group_id': None, 'created_at': '2024-10-18T08:52:40Z', 'updated_at': '2024-11-07T08:40:23Z', 'group': False, 'name': 'API integraiton', 'description': 'Incident managament application', 'position': 3, 'status': 'operational', 'showcase': True, 'only_show_if_degraded': False, 'automation_email': 'component+9d11164f9dab4617af9ee72f9832dedf@notifications.statuspage.io', 'start_date': '2024-10-18'}], 'created_at': '2024-11-07T08:32:13Z', 'impact': 'minor', 'impact_override': None, 'incident_updates': [{'id': '4lp3zh7kb432', 'incident_id': '863f2hydpmh6', 'affected_components': [{'code': 'jmq3t1734kz6', 'name': 'API integraiton', 'old_status': 'degraded_performance', 'new_status': 'operational'}], 'body': "Status updated to 'Resolved'.\n\nclosed command sent from slack", 'created_at': '2024-11-07T08:40:23.166Z', 'custom_tweet': None, 'deliver_notifications': True, 'display_at': '2024-11-07T08:40:23.166Z', 'status': 'resolved', 'tweet_id': None, 'twitter_updated_at': None, 'updated_at': '2024-11-07T08:40:23.166Z', 'wants_twitter_update': False}, {'id': '4j54b9vngtsh', 'incident_id': '863f2hydpmh6', 'affected_components': [{'code': 'jmq3t1734kz6', 'name': 'API integraiton', 'old_status': 'operational', 'new_status': 'degraded_performance'}], 'body': '*Incident Summary:*\n----------------------------------\n*SO Number:* SO-1653\n*Severity Level:* Minor\n*Affected Products:* BetVision\n*Suspected Teams:* Video Distribution - Genius Live\n*Start Time:* 2024-11-01 01:00:00\n*Affected Components:* \n\n*Additional Details:*\n----------------------------------\n*Description:* Testing of slack channel creation.Not an incident\n*Message:* None.Testing of an automation app\n*Customer Affected:* Yes', 'created_at': '2024-11-07T08:32:13.252Z', 'custom_tweet': None, 'deliver_notifications': True, 'display_at': '2024-11-07T08:32:13.252Z', 'status': 'investigating', 'tweet_id': None, 'twitter_updated_at': None, 'updated_at': '2024-11-07T08:32:13.252Z', 'wants_twitter_update': False}], 'metadata': {}, 'monitoring_at': None, 'name': 'ðŸš¨ Incident Report: SO-1653 ðŸš¨', 'page_id': 'x0c3bgkzj0yw', 'postmortem_body': None, 'postmortem_body_last_updated_at': None, 'postmortem_ignored': False, 'postmortem_notified_subscribers': False, 'postmortem_notified_twitter': False, 'postmortem_published_at': None, 'resolved_at': '2024-11-07T08:40:23Z', 'scheduled_auto_completed': False, 'scheduled_auto_in_progress': False, 'scheduled_for': None, 'auto_transition_deliver_notifications_at_end': None, 'auto_transition_deliver_notifications_at_start': None, 'auto_transition_to_maintenance_state': None, 'auto_transition_to_operational_state': None, 'scheduled_remind_prior': False, 'scheduled_reminded_at': None, 'scheduled_until': None, 'shortlink': 'https://stspg.io/q8vm71sgkcq5', 'status': 'resolved', 'updated_at': '2024-11-07T08:40:23Z', 'reminder_intervals': None}
2024-11-12 10:10:37,013 [INFO] src.helperFunctions.slack_utils: Successfully opened success modal in slack
2024-11-12 10:10:39,758 [INFO] src.helperFunctions.slack_utils: Slack API response in create_slack_channel: {'ok': True, 'channel': {'id': 'C080FK2TR5Y', 'name': 'incident-so-1655-1731399039', 'is_channel': True, 'is_group': False, 'is_im': False, 'is_mpim': False, 'is_private': False, 'created': 1731399039, 'is_archived': False, 'is_general': False, 'unlinked': 0, 'name_normalized': 'incident-so-1655-1731399039', 'is_shared': False, 'is_org_shared': False, 'is_pending_ext_shared': False, 'pending_shared': [], 'context_team_id': 'T3GD0HY3H', 'updated': 1731399039600, 'parent_conversation': None, 'creator': 'U06PWQY0ZND', 'is_ext_shared': False, 'shared_team_ids': ['T3GD0HY3H'], 'pending_connected_team_ids': [], 'is_member': True, 'last_read': '0000000000.000000', 'topic': {'value': '', 'creator': '', 'last_set': 0}, 'purpose': {'value': '', 'creator': '', 'last_set': 0}, 'previous_names': [], 'priority': 0}}
2024-11-12 10:10:39,758 [INFO] src.helperFunctions.slack_utils: Channel created successfully. Channel ID: C080FK2TR5Y
2024-11-12 10:10:40,005 [INFO] src.helperFunctions.slack_utils: Bot enabled to join the channel: C080FK2TR5Y
2024-11-12 10:10:42,429 [INFO] src.helperFunctions.slack_utils: Message posted to Slack channel ID C080FK2TR5Y
2024-11-12 10:10:42,429 [INFO] src.routers.incident: Posted message to incident channel incident-so-1655
2024-11-12 10:10:42,839 [INFO] src.helperFunctions.slack_utils: Message posted to Slack channel ID C07GL77APRS
2024-11-12 10:10:42,840 [INFO] src.routers.incident: Posted message to general outages channel
2024-11-12 10:10:43,190 [INFO] src.helperFunctions.slack_utils: Message posted to Slack channel ID C062F2NM1RC
2024-11-12 10:10:43,191 [INFO] src.routers.incident: Posted message to Sportsbook 4 team channel
2024-11-12 10:10:44,057 [INFO] httpx: HTTP Request: POST https://api.statuspage.io/v1/pages/x0c3bgkzj0yw/incidents "HTTP/1.1 201 Created"
2024-11-12 10:10:44,058 [INFO] root: Statuspage response: 201 - {"id":"qfqgy0kttt95","components":[{"id":"jmq3t1734kz6","page_id":"x0c3bgkzj0yw","group_id":null,"created_at":"2024-10-18T08:52:40Z","updated_at":"2024-11-12T08:10:43Z","group":false,"name":"API integraiton","description":"Incident managament application","position":3,"status":"degraded_performance","showcase":true,"only_show_if_degraded":false,"automation_email":"component+9d11164f9dab4617af9ee72f9832dedf@notifications.statuspage.io","start_date":"2024-10-18"}],"created_at":"2024-11-12T08:10:43Z","impact":"minor","impact_override":null,"incident_updates":[{"id":"8vsb7llygrv7","incident_id":"qfqgy0kttt95","affected_components":[{"code":"jmq3t1734kz6","name":"API integraiton","old_status":"operational","new_status":"degraded_performance"}],"body":"*Incident Summary:*\n----------------------------------\n*SO Number:* SO-1655\n*Severity Level:* Minor\n*Affected Products:* Integrity Service\n*Suspected Teams:* Sportsbook 4\n*Start Time:* 2024-11-02 03:00:00\n*Affected Components:* \n\n*Additional Details:*\n----------------------------------\n*Description:* This is not an actual outage.Testing of a FS incident management app.\n*Message:* Not an actual outage\n*Customer Affected:* Yes","created_at":"2024-11-12T08:10:43.790Z","custom_tweet":null,"deliver_notifications":true,"display_at":"2024-11-12T08:10:43.790Z","status":"investigating","tweet_id":null,"twitter_updated_at":null,"updated_at":"2024-11-12T08:10:43.790Z","wants_twitter_update":false}],"metadata":{},"monitoring_at":null,"name":"ðŸš¨ Incident Report: SO-1655 ðŸš¨","page_id":"x0c3bgkzj0yw","postmortem_body":null,"postmortem_body_last_updated_at":null,"postmortem_ignored":false,"postmortem_notified_subscribers":false,"postmortem_notified_twitter":false,"postmortem_published_at":null,"resolved_at":null,"scheduled_auto_completed":false,"scheduled_auto_in_progress":false,"scheduled_for":null,"auto_transition_deliver_notifications_at_end":null,"auto_transition_deliver_notifications_at_start":null,"auto_transition_to_maintenance_state":null,"auto_transition_to_operational_state":null,"scheduled_remind_prior":false,"scheduled_reminded_at":null,"scheduled_until":null,"shortlink":"https://stspg.io/zvc5j2zs6w8c","status":"investigating","updated_at":"2024-11-12T08:10:43Z","reminder_intervals":null}
2024-11-12 10:10:44,099 [INFO] root: Statuspage incident created succesfully with and id of qfqgy0kttt95
2024-11-12 10:10:44,099 [ERROR] root: Unexpected error creating Statuspage incident for SO SO-1655: 'StatuspageCreationResponse' object has no attribute 'get'
2024-11-12 10:17:35,808 [INFO] src.routers.incident: Handling /get-incident command
2024-11-12 10:21:49,888 [INFO] src.routers.incident: Handling the incident update command
2024-11-12 10:22:11,054 [INFO] httpx: HTTP Request: PATCH https://api.statuspage.io/v1/pages/x0c3bgkzj0yw/incidents/qfqgy0kttt95 "HTTP/1.1 200 OK"
2024-11-12 10:22:11,059 [INFO] root: Statuspage incident updated: {'id': 'qfqgy0kttt95', 'components': [{'id': 'jmq3t1734kz6', 'page_id': 'x0c3bgkzj0yw', 'group_id': None, 'created_at': '2024-10-18T08:52:40Z', 'updated_at': '2024-11-12T08:10:43Z', 'group': False, 'name': 'API integraiton', 'description': 'Incident managament application', 'position': 3, 'status': 'degraded_performance', 'showcase': True, 'only_show_if_degraded': False, 'automation_email': 'component+9d11164f9dab4617af9ee72f9832dedf@notifications.statuspage.io', 'start_date': '2024-10-18'}], 'created_at': '2024-11-12T08:10:43Z', 'impact': 'minor', 'impact_override': None, 'incident_updates': [{'id': '446rzvrqr417', 'incident_id': 'qfqgy0kttt95', 'affected_components': None, 'body': "Status updated to 'Monitoring'.\n\nChanged status from slack", 'created_at': '2024-11-12T08:22:10.794Z', 'custom_tweet': None, 'deliver_notifications': True, 'display_at': '2024-11-12T08:22:10.794Z', 'status': 'monitoring', 'tweet_id': None, 'twitter_updated_at': None, 'updated_at': '2024-11-12T08:22:10.794Z', 'wants_twitter_update': False}, {'id': '8vsb7llygrv7', 'incident_id': 'qfqgy0kttt95', 'affected_components': [{'code': 'jmq3t1734kz6', 'name': 'API integraiton', 'old_status': 'operational', 'new_status': 'degraded_performance'}], 'body': '*Incident Summary:*\n----------------------------------\n*SO Number:* SO-1655\n*Severity Level:* Minor\n*Affected Products:* Integrity Service\n*Suspected Teams:* Sportsbook 4\n*Start Time:* 2024-11-02 03:00:00\n*Affected Components:* \n\n*Additional Details:*\n----------------------------------\n*Description:* This is not an actual outage.Testing of a FS incident management app.\n*Message:* Not an actual outage\n*Customer Affected:* Yes', 'created_at': '2024-11-12T08:10:43.790Z', 'custom_tweet': None, 'deliver_notifications': True, 'display_at': '2024-11-12T08:10:43.790Z', 'status': 'investigating', 'tweet_id': None, 'twitter_updated_at': None, 'updated_at': '2024-11-12T08:10:43.790Z', 'wants_twitter_update': False}], 'metadata': {}, 'monitoring_at': '2024-11-12T08:22:10Z', 'name': 'ðŸš¨ Incident Report: SO-1655 ðŸš¨', 'page_id': 'x0c3bgkzj0yw', 'postmortem_body': None, 'postmortem_body_last_updated_at': None, 'postmortem_ignored': False, 'postmortem_notified_subscribers': False, 'postmortem_notified_twitter': False, 'postmortem_published_at': None, 'resolved_at': None, 'scheduled_auto_completed': False, 'scheduled_auto_in_progress': False, 'scheduled_for': None, 'auto_transition_deliver_notifications_at_end': None, 'auto_transition_deliver_notifications_at_start': None, 'auto_transition_to_maintenance_state': None, 'auto_transition_to_operational_state': None, 'scheduled_remind_prior': False, 'scheduled_reminded_at': None, 'scheduled_until': None, 'shortlink': 'https://stspg.io/zvc5j2zs6w8c', 'status': 'monitoring', 'updated_at': '2024-11-12T08:22:10Z', 'reminder_intervals': None}
2024-11-12 10:22:57,931 [INFO] httpx: HTTP Request: PATCH https://api.statuspage.io/v1/pages/x0c3bgkzj0yw/incidents/qfqgy0kttt95 "HTTP/1.1 200 OK"
2024-11-12 10:22:57,933 [INFO] root: Statuspage incident updated: {'id': 'qfqgy0kttt95', 'components': [{'id': 'jmq3t1734kz6', 'page_id': 'x0c3bgkzj0yw', 'group_id': None, 'created_at': '2024-10-18T08:52:40Z', 'updated_at': '2024-11-12T08:22:57Z', 'group': False, 'name': 'API integraiton', 'description': 'Incident managament application', 'position': 3, 'status': 'operational', 'showcase': True, 'only_show_if_degraded': False, 'automation_email': 'component+9d11164f9dab4617af9ee72f9832dedf@notifications.statuspage.io', 'start_date': '2024-10-18'}], 'created_at': '2024-11-12T08:10:43Z', 'impact': 'minor', 'impact_override': None, 'incident_updates': [{'id': 'br212fyln5yd', 'incident_id': 'qfqgy0kttt95', 'affected_components': [{'code': 'jmq3t1734kz6', 'name': 'API integraiton', 'old_status': 'degraded_performance', 'new_status': 'operational'}], 'body': "Status updated to 'Resolved'.\n\nThe test incident has been resolved", 'created_at': '2024-11-12T08:22:57.694Z', 'custom_tweet': None, 'deliver_notifications': True, 'display_at': '2024-11-12T08:22:57.694Z', 'status': 'resolved', 'tweet_id': None, 'twitter_updated_at': None, 'updated_at': '2024-11-12T08:22:57.694Z', 'wants_twitter_update': False}, {'id': '446rzvrqr417', 'incident_id': 'qfqgy0kttt95', 'affected_components': None, 'body': "Status updated to 'Monitoring'.\n\nChanged status from slack", 'created_at': '2024-11-12T08:22:10.794Z', 'custom_tweet': None, 'deliver_notifications': True, 'display_at': '2024-11-12T08:22:10.794Z', 'status': 'monitoring', 'tweet_id': None, 'twitter_updated_at': None, 'updated_at': '2024-11-12T08:22:10.794Z', 'wants_twitter_update': False}, {'id': '8vsb7llygrv7', 'incident_id': 'qfqgy0kttt95', 'affected_components': [{'code': 'jmq3t1734kz6', 'name': 'API integraiton', 'old_status': 'operational', 'new_status': 'degraded_performance'}], 'body': '*Incident Summary:*\n----------------------------------\n*SO Number:* SO-1655\n*Severity Level:* Minor\n*Affected Products:* Integrity Service\n*Suspected Teams:* Sportsbook 4\n*Start Time:* 2024-11-02 03:00:00\n*Affected Components:* \n\n*Additional Details:*\n----------------------------------\n*Description:* This is not an actual outage.Testing of a FS incident management app.\n*Message:* Not an actual outage\n*Customer Affected:* Yes', 'created_at': '2024-11-12T08:10:43.790Z', 'custom_tweet': None, 'deliver_notifications': True, 'display_at': '2024-11-12T08:10:43.790Z', 'status': 'investigating', 'tweet_id': None, 'twitter_updated_at': None, 'updated_at': '2024-11-12T08:10:43.790Z', 'wants_twitter_update': False}], 'metadata': {}, 'monitoring_at': '2024-11-12T08:22:10Z', 'name': 'ðŸš¨ Incident Report: SO-1655 ðŸš¨', 'page_id': 'x0c3bgkzj0yw', 'postmortem_body': None, 'postmortem_body_last_updated_at': None, 'postmortem_ignored': False, 'postmortem_notified_subscribers': False, 'postmortem_notified_twitter': False, 'postmortem_published_at': None, 'resolved_at': '2024-11-12T08:22:57Z', 'scheduled_auto_completed': False, 'scheduled_auto_in_progress': False, 'scheduled_for': None, 'auto_transition_deliver_notifications_at_end': None, 'auto_transition_deliver_notifications_at_start': None, 'auto_transition_to_maintenance_state': None, 'auto_transition_to_operational_state': None, 'scheduled_remind_prior': False, 'scheduled_reminded_at': None, 'scheduled_until': None, 'shortlink': 'https://stspg.io/zvc5j2zs6w8c', 'status': 'resolved', 'updated_at': '2024-11-12T08:22:57Z', 'reminder_intervals': None}
2024-11-12 10:58:48,821 [INFO] src.routers.incident: Handling /get-incident command
2024-11-12 11:06:59,749 [INFO] src.routers.incident: Handling /get-incident command
2024-11-12 11:07:06,175 [ERROR] root: Unexpected error: 'Response' object has no attribute 'send'
2024-11-12 11:10:08,265 [INFO] src.routers.incident: Handling /get-incident command
2024-11-12 11:40:52,554 [INFO] src.routers.incident: Handling /get-incident command
2024-11-12 11:40:59,511 [ERROR] root: Unexpected error: JSONResponse.__init__() missing 1 required positional argument: 'content'
2024-11-14 10:06:47,484 [INFO] src.routers.incident: Handling /get-incident command
2024-11-14 11:08:20,073 [INFO] src.helperFunctions.slack_utils: Successfully opened success modal in slack
2024-11-14 11:08:23,526 [INFO] src.helperFunctions.slack_utils: Slack API response in create_slack_channel: {'ok': True, 'channel': {'id': 'C080UHMSD27', 'name': 'incident-so-1656-1731575302', 'is_channel': True, 'is_group': False, 'is_im': False, 'is_mpim': False, 'is_private': False, 'created': 1731575303, 'is_archived': False, 'is_general': False, 'unlinked': 0, 'name_normalized': 'incident-so-1656-1731575302', 'is_shared': False, 'is_org_shared': False, 'is_pending_ext_shared': False, 'pending_shared': [], 'context_team_id': 'T3GD0HY3H', 'updated': 1731575303294, 'parent_conversation': None, 'creator': 'U06PWQY0ZND', 'is_ext_shared': False, 'shared_team_ids': ['T3GD0HY3H'], 'pending_connected_team_ids': [], 'is_member': True, 'last_read': '0000000000.000000', 'topic': {'value': '', 'creator': '', 'last_set': 0}, 'purpose': {'value': '', 'creator': '', 'last_set': 0}, 'previous_names': [], 'priority': 0}}
2024-11-14 11:08:23,527 [INFO] src.helperFunctions.slack_utils: Channel created successfully. Channel ID: C080UHMSD27
2024-11-14 11:08:23,923 [INFO] src.helperFunctions.slack_utils: Bot enabled to join the channel: C080UHMSD27
2024-11-14 11:08:26,304 [INFO] src.helperFunctions.slack_utils: Message posted to Slack channel ID C080UHMSD27
2024-11-14 11:08:26,305 [INFO] src.routers.incident: Posted message to incident channel incident-so-1656
2024-11-14 11:08:26,699 [INFO] src.helperFunctions.slack_utils: Message posted to Slack channel ID C07GL77APRS
2024-11-14 11:08:26,699 [INFO] src.routers.incident: Posted message to general outages channel
2024-11-14 11:08:26,700 [WARNING] src.helperFunctions.team_channel_mapping_to_slack: No channel ID found for team: Fixtures
2024-11-14 11:08:27,292 [INFO] httpx: HTTP Request: POST https://api.statuspage.io/v1/pages/x0c3bgkzj0yw/incidents "HTTP/1.1 201 Created"
2024-11-14 11:08:27,293 [INFO] root: Statuspage response: 201 - {"id":"fvvf505dw7jc","components":[{"id":"jmq3t1734kz6","page_id":"x0c3bgkzj0yw","group_id":null,"created_at":"2024-10-18T08:52:40Z","updated_at":"2024-11-14T09:08:27Z","group":false,"name":"API integraiton","description":"Incident managament application","position":3,"status":"degraded_performance","showcase":true,"only_show_if_degraded":false,"automation_email":"component+9d11164f9dab4617af9ee72f9832dedf@notifications.statuspage.io","start_date":"2024-10-18"}],"created_at":"2024-11-14T09:08:27Z","impact":"minor","impact_override":null,"incident_updates":[{"id":"60c15xktg0c1","incident_id":"fvvf505dw7jc","affected_components":[{"code":"jmq3t1734kz6","name":"API integraiton","old_status":"operational","new_status":"degraded_performance"}],"body":"*Incident Summary:*\n----------------------------------\n*SO Number:* SO-1656\n*Severity Level:* Minor\n*Affected Products:* Telemetry\n*Suspected Teams:* Fixtures\n*Start Time:* 2024-11-01 02:00:00\n*Affected Components:* \n\n*Additional Details:*\n----------------------------------\n*Description:* Not an incident.Just a test outage for general check up\n*Message:* not an incident\n*Customer Affected:* Yes","created_at":"2024-11-14T09:08:27.119Z","custom_tweet":null,"deliver_notifications":true,"display_at":"2024-11-14T09:08:27.119Z","status":"investigating","tweet_id":null,"twitter_updated_at":null,"updated_at":"2024-11-14T09:08:27.119Z","wants_twitter_update":false}],"metadata":{},"monitoring_at":null,"name":"ðŸš¨ Incident Report: SO-1656 ðŸš¨","page_id":"x0c3bgkzj0yw","postmortem_body":null,"postmortem_body_last_updated_at":null,"postmortem_ignored":false,"postmortem_notified_subscribers":false,"postmortem_notified_twitter":false,"postmortem_published_at":null,"resolved_at":null,"scheduled_auto_completed":false,"scheduled_auto_in_progress":false,"scheduled_for":null,"auto_transition_deliver_notifications_at_end":null,"auto_transition_deliver_notifications_at_start":null,"auto_transition_to_maintenance_state":null,"auto_transition_to_operational_state":null,"scheduled_remind_prior":false,"scheduled_reminded_at":null,"scheduled_until":null,"shortlink":"https://stspg.io/jgw164dxkfw0","status":"investigating","updated_at":"2024-11-14T09:08:27Z","reminder_intervals":null}
2024-11-14 11:08:27,301 [INFO] root: Statuspage incident created succesfully with and id of fvvf505dw7jc
2024-11-14 11:08:27,301 [ERROR] root: Unexpected error creating Statuspage incident for SO SO-1656: 'StatuspageCreationResponse' object has no attribute 'get'
2024-11-14 11:14:02,469 [INFO] src.routers.incident: Handling the incident update command
2024-11-14 11:14:24,504 [INFO] httpx: HTTP Request: PATCH https://api.statuspage.io/v1/pages/x0c3bgkzj0yw/incidents/fvvf505dw7jc "HTTP/1.1 200 OK"
2024-11-14 11:14:24,506 [INFO] root: Statuspage incident updated: {'id': 'fvvf505dw7jc', 'components': [{'id': 'jmq3t1734kz6', 'page_id': 'x0c3bgkzj0yw', 'group_id': None, 'created_at': '2024-10-18T08:52:40Z', 'updated_at': '2024-11-14T09:14:24Z', 'group': False, 'name': 'API integraiton', 'description': 'Incident managament application', 'position': 3, 'status': 'operational', 'showcase': True, 'only_show_if_degraded': False, 'automation_email': 'component+9d11164f9dab4617af9ee72f9832dedf@notifications.statuspage.io', 'start_date': '2024-10-18'}], 'created_at': '2024-11-14T09:08:27Z', 'impact': 'minor', 'impact_override': None, 'incident_updates': [{'id': 'h66gpwz3pc1f', 'incident_id': 'fvvf505dw7jc', 'affected_components': [{'code': 'jmq3t1734kz6', 'name': 'API integraiton', 'old_status': 'degraded_performance', 'new_status': 'operational'}], 'body': "Status updated to 'Resolved'.\n\nRESOLVED FROM SLACK", 'created_at': '2024-11-14T09:14:24.299Z', 'custom_tweet': None, 'deliver_notifications': True, 'display_at': '2024-11-14T09:14:24.299Z', 'status': 'resolved', 'tweet_id': None, 'twitter_updated_at': None, 'updated_at': '2024-11-14T09:14:24.299Z', 'wants_twitter_update': False}, {'id': '60c15xktg0c1', 'incident_id': 'fvvf505dw7jc', 'affected_components': [{'code': 'jmq3t1734kz6', 'name': 'API integraiton', 'old_status': 'operational', 'new_status': 'degraded_performance'}], 'body': '*Incident Summary:*\n----------------------------------\n*SO Number:* SO-1656\n*Severity Level:* Minor\n*Affected Products:* Telemetry\n*Suspected Teams:* Fixtures\n*Start Time:* 2024-11-01 02:00:00\n*Affected Components:* \n\n*Additional Details:*\n----------------------------------\n*Description:* Not an incident.Just a test outage for general check up\n*Message:* not an incident\n*Customer Affected:* Yes', 'created_at': '2024-11-14T09:08:27.119Z', 'custom_tweet': None, 'deliver_notifications': True, 'display_at': '2024-11-14T09:08:27.119Z', 'status': 'investigating', 'tweet_id': None, 'twitter_updated_at': None, 'updated_at': '2024-11-14T09:08:27.119Z', 'wants_twitter_update': False}], 'metadata': {}, 'monitoring_at': None, 'name': 'ðŸš¨ Incident Report: SO-1656 ðŸš¨', 'page_id': 'x0c3bgkzj0yw', 'postmortem_body': None, 'postmortem_body_last_updated_at': None, 'postmortem_ignored': False, 'postmortem_notified_subscribers': False, 'postmortem_notified_twitter': False, 'postmortem_published_at': None, 'resolved_at': '2024-11-14T09:14:24Z', 'scheduled_auto_completed': False, 'scheduled_auto_in_progress': False, 'scheduled_for': None, 'auto_transition_deliver_notifications_at_end': None, 'auto_transition_deliver_notifications_at_start': None, 'auto_transition_to_maintenance_state': None, 'auto_transition_to_operational_state': None, 'scheduled_remind_prior': False, 'scheduled_reminded_at': None, 'scheduled_until': None, 'shortlink': 'https://stspg.io/jgw164dxkfw0', 'status': 'resolved', 'updated_at': '2024-11-14T09:14:24Z', 'reminder_intervals': None}
2024-11-18 11:49:14,644 [ERROR] src.routers.incident: Error in form processing: Missing start_time or start_time_picker
Traceback (most recent call last):
  File "/Users/ulvi.nasibli/Desktop/CrisisApp-Backend/src/routers/incident.py", line 613, in slack_interactions
    incident_data = extract_incident_data(state_values)
  File "/Users/ulvi.nasibli/Desktop/CrisisApp-Backend/src/routers/incident.py", line 847, in extract_incident_data
    start_datetime = extract_datetime(state_values, "start_time", "start_time_picker")
  File "/Users/ulvi.nasibli/Desktop/CrisisApp-Backend/src/routers/incident.py", line 878, in extract_datetime
    raise ValueError(f"Missing {date_key} or {time_key}")
ValueError: Missing start_time or start_time_picker
2024-11-18 12:01:44,590 [INFO] src.routers.incident: Starting incident creation process
2024-11-18 12:01:46,991 [INFO] src.helperFunctions.slack_utils: Successfully opened success modal in slack
2024-11-18 12:01:49,588 [INFO] src.helperFunctions.slack_utils: Slack API response in create_slack_channel: {'ok': True, 'channel': {'id': 'C081NSRHREV', 'name': 'incident-so-1659-1731924108', 'is_channel': True, 'is_group': False, 'is_im': False, 'is_mpim': False, 'is_private': False, 'created': 1731924109, 'is_archived': False, 'is_general': False, 'unlinked': 0, 'name_normalized': 'incident-so-1659-1731924108', 'is_shared': False, 'is_org_shared': False, 'is_pending_ext_shared': False, 'pending_shared': [], 'context_team_id': 'T3GD0HY3H', 'updated': 1731924109346, 'parent_conversation': None, 'creator': 'U06PWQY0ZND', 'is_ext_shared': False, 'shared_team_ids': ['T3GD0HY3H'], 'pending_connected_team_ids': [], 'is_member': True, 'last_read': '0000000000.000000', 'topic': {'value': '', 'creator': '', 'last_set': 0}, 'purpose': {'value': '', 'creator': '', 'last_set': 0}, 'previous_names': [], 'priority': 0}}
2024-11-18 12:01:49,588 [INFO] src.helperFunctions.slack_utils: Channel created successfully. Channel ID: C081NSRHREV
2024-11-18 12:01:50,069 [INFO] src.helperFunctions.slack_utils: Bot enabled to join the channel: C081NSRHREV
2024-11-18 12:01:53,143 [INFO] src.helperFunctions.slack_utils: Message posted to Slack channel ID C081NSRHREV
2024-11-18 12:01:53,143 [INFO] src.routers.incident: Posted message to incident channel incident-so-1659
2024-11-18 12:01:53,471 [INFO] src.helperFunctions.slack_utils: Message posted to Slack channel ID C07GL77APRS
2024-11-18 12:01:53,471 [INFO] src.routers.incident: Posted message to general outages channel
2024-11-18 12:01:53,472 [WARNING] src.helperFunctions.team_channel_mapping_to_slack: No channel ID found for team: 3rd Party
2024-11-18 12:01:54,132 [INFO] httpx: HTTP Request: POST https://api.statuspage.io/v1/pages/x0c3bgkzj0yw/incidents "HTTP/1.1 201 Created"
2024-11-18 12:01:54,133 [INFO] root: Statuspage response: 201 - {"id":"8gd1zlwwr27b","components":[{"id":"jmq3t1734kz6","page_id":"x0c3bgkzj0yw","group_id":null,"created_at":"2024-10-18T08:52:40Z","updated_at":"2024-11-18T10:01:53Z","group":false,"name":"API integraiton","description":"Incident managament application","position":3,"status":"degraded_performance","showcase":true,"only_show_if_degraded":false,"automation_email":"component+9d11164f9dab4617af9ee72f9832dedf@notifications.statuspage.io","start_date":"2024-10-18"}],"created_at":"2024-11-18T10:01:53Z","impact":"minor","impact_override":null,"incident_updates":[{"id":"63zmn7qtl3fl","incident_id":"8gd1zlwwr27b","affected_components":[{"code":"jmq3t1734kz6","name":"API integraiton","old_status":"operational","new_status":"degraded_performance"}],"body":"*Incident Summary:*\n----------------------------------\n*SO Number:* SO-1659\n*Severity Level:* Minor\n*Affected Products:* Digital Integrations\n*Suspected Teams:* 3rd Party\n*Start Time:* 2024-11-01 01:00:00\n*Affected Components:* \n\n*Additional Details:*\n----------------------------------\n*Description:* Code optimization.Not an actual incident.\n*Message:* none\n*Customer Affected:* Yes","created_at":"2024-11-18T10:01:53.994Z","custom_tweet":null,"deliver_notifications":true,"display_at":"2024-11-18T10:01:53.994Z","status":"investigating","tweet_id":null,"twitter_updated_at":null,"updated_at":"2024-11-18T10:01:53.994Z","wants_twitter_update":false}],"metadata":{},"monitoring_at":null,"name":"ðŸš¨ Incident Report: SO-1659 ðŸš¨","page_id":"x0c3bgkzj0yw","postmortem_body":null,"postmortem_body_last_updated_at":null,"postmortem_ignored":false,"postmortem_notified_subscribers":false,"postmortem_notified_twitter":false,"postmortem_published_at":null,"resolved_at":null,"scheduled_auto_completed":false,"scheduled_auto_in_progress":false,"scheduled_for":null,"auto_transition_deliver_notifications_at_end":null,"auto_transition_deliver_notifications_at_start":null,"auto_transition_to_maintenance_state":null,"auto_transition_to_operational_state":null,"scheduled_remind_prior":false,"scheduled_reminded_at":null,"scheduled_until":null,"shortlink":"https://stspg.io/w2y2v2zgl7q9","status":"investigating","updated_at":"2024-11-18T10:01:53Z","reminder_intervals":null}
2024-11-18 12:01:54,140 [INFO] root: Statuspage incident created succesfully with and id of 8gd1zlwwr27b
2024-11-18 12:01:54,140 [ERROR] src.routers.incident: Unexpected error creating Statuspage incident for SO SO-1659: 'StatuspageCreationResponse' object has no attribute 'get'
2024-11-18 12:01:54,145 [INFO] src.helperFunctions.opsgenie: Creating OpsGenie alert for incident SO-1659
2024-11-18 12:01:54,553 [ERROR] src.routers.incident: Failed to create OpsGenie alert
2024-11-18 12:01:54,553 [INFO] src.routers.incident: Incident creation process completed
2024-11-18 12:03:21,984 [ERROR] root: Unexpected error: cannot access local variable 'response_data' where it is not associated with a value
2024-11-18 12:11:35,248 [INFO] src.routers.incident: Handling /get-incident command
2024-11-18 12:40:59,791 [INFO] src.routers.incident: Handling the incident update command
2024-11-18 12:41:21,321 [INFO] httpx: HTTP Request: PATCH https://api.statuspage.io/v1/pages/x0c3bgkzj0yw/incidents/8gd1zlwwr27b "HTTP/1.1 200 OK"
2024-11-18 12:41:21,324 [INFO] root: Statuspage incident updated: {'id': '8gd1zlwwr27b', 'components': [{'id': 'jmq3t1734kz6', 'page_id': 'x0c3bgkzj0yw', 'group_id': None, 'created_at': '2024-10-18T08:52:40Z', 'updated_at': '2024-11-18T10:01:53Z', 'group': False, 'name': 'API integraiton', 'description': 'Incident managament application', 'position': 3, 'status': 'degraded_performance', 'showcase': True, 'only_show_if_degraded': False, 'automation_email': 'component+9d11164f9dab4617af9ee72f9832dedf@notifications.statuspage.io', 'start_date': '2024-10-18'}], 'created_at': '2024-11-18T10:01:53Z', 'impact': 'minor', 'impact_override': None, 'incident_updates': [{'id': 'rbgfl4cgvnn0', 'incident_id': '8gd1zlwwr27b', 'affected_components': None, 'body': "Status updated to 'Monitoring'.\n\nfrom slack", 'created_at': '2024-11-18T10:41:21.152Z', 'custom_tweet': None, 'deliver_notifications': True, 'display_at': '2024-11-18T10:41:21.152Z', 'status': 'monitoring', 'tweet_id': None, 'twitter_updated_at': None, 'updated_at': '2024-11-18T10:41:21.152Z', 'wants_twitter_update': False}, {'id': '63zmn7qtl3fl', 'incident_id': '8gd1zlwwr27b', 'affected_components': [{'code': 'jmq3t1734kz6', 'name': 'API integraiton', 'old_status': 'operational', 'new_status': 'degraded_performance'}], 'body': '*Incident Summary:*\n----------------------------------\n*SO Number:* SO-1659\n*Severity Level:* Minor\n*Affected Products:* Digital Integrations\n*Suspected Teams:* 3rd Party\n*Start Time:* 2024-11-01 01:00:00\n*Affected Components:* \n\n*Additional Details:*\n----------------------------------\n*Description:* Code optimization.Not an actual incident.\n*Message:* none\n*Customer Affected:* Yes', 'created_at': '2024-11-18T10:01:53.994Z', 'custom_tweet': None, 'deliver_notifications': True, 'display_at': '2024-11-18T10:01:53.994Z', 'status': 'investigating', 'tweet_id': None, 'twitter_updated_at': None, 'updated_at': '2024-11-18T10:01:53.994Z', 'wants_twitter_update': False}], 'metadata': {}, 'monitoring_at': '2024-11-18T10:41:21Z', 'name': 'ðŸš¨ Incident Report: SO-1659 ðŸš¨', 'page_id': 'x0c3bgkzj0yw', 'postmortem_body': None, 'postmortem_body_last_updated_at': None, 'postmortem_ignored': False, 'postmortem_notified_subscribers': False, 'postmortem_notified_twitter': False, 'postmortem_published_at': None, 'resolved_at': None, 'scheduled_auto_completed': False, 'scheduled_auto_in_progress': False, 'scheduled_for': None, 'auto_transition_deliver_notifications_at_end': None, 'auto_transition_deliver_notifications_at_start': None, 'auto_transition_to_maintenance_state': None, 'auto_transition_to_operational_state': None, 'scheduled_remind_prior': False, 'scheduled_reminded_at': None, 'scheduled_until': None, 'shortlink': 'https://stspg.io/w2y2v2zgl7q9', 'status': 'monitoring', 'updated_at': '2024-11-18T10:41:21Z', 'reminder_intervals': None}
2024-11-18 12:47:47,353 [INFO] httpx: HTTP Request: PATCH https://api.statuspage.io/v1/pages/x0c3bgkzj0yw/incidents/8gd1zlwwr27b "HTTP/1.1 200 OK"
2024-11-18 12:47:47,354 [INFO] root: Statuspage incident updated: {'id': '8gd1zlwwr27b', 'components': [{'id': 'jmq3t1734kz6', 'page_id': 'x0c3bgkzj0yw', 'group_id': None, 'created_at': '2024-10-18T08:52:40Z', 'updated_at': '2024-11-18T10:47:47Z', 'group': False, 'name': 'API integraiton', 'description': 'Incident managament application', 'position': 3, 'status': 'operational', 'showcase': True, 'only_show_if_degraded': False, 'automation_email': 'component+9d11164f9dab4617af9ee72f9832dedf@notifications.statuspage.io', 'start_date': '2024-10-18'}], 'created_at': '2024-11-18T10:01:53Z', 'impact': 'minor', 'impact_override': None, 'incident_updates': [{'id': 'ttc7pkm6gzqs', 'incident_id': '8gd1zlwwr27b', 'affected_components': [{'code': 'jmq3t1734kz6', 'name': 'API integraiton', 'old_status': 'degraded_performance', 'new_status': 'operational'}], 'body': "Status updated to 'Resolved'.\n\nfrom slack UI", 'created_at': '2024-11-18T10:47:47.169Z', 'custom_tweet': None, 'deliver_notifications': True, 'display_at': '2024-11-18T10:47:47.169Z', 'status': 'resolved', 'tweet_id': None, 'twitter_updated_at': None, 'updated_at': '2024-11-18T10:47:47.169Z', 'wants_twitter_update': False}, {'id': 'rbgfl4cgvnn0', 'incident_id': '8gd1zlwwr27b', 'affected_components': None, 'body': "Status updated to 'Monitoring'.\n\nfrom slack", 'created_at': '2024-11-18T10:41:21.152Z', 'custom_tweet': None, 'deliver_notifications': True, 'display_at': '2024-11-18T10:41:21.152Z', 'status': 'monitoring', 'tweet_id': None, 'twitter_updated_at': None, 'updated_at': '2024-11-18T10:41:21.152Z', 'wants_twitter_update': False}, {'id': '63zmn7qtl3fl', 'incident_id': '8gd1zlwwr27b', 'affected_components': [{'code': 'jmq3t1734kz6', 'name': 'API integraiton', 'old_status': 'operational', 'new_status': 'degraded_performance'}], 'body': '*Incident Summary:*\n----------------------------------\n*SO Number:* SO-1659\n*Severity Level:* Minor\n*Affected Products:* Digital Integrations\n*Suspected Teams:* 3rd Party\n*Start Time:* 2024-11-01 01:00:00\n*Affected Components:* \n\n*Additional Details:*\n----------------------------------\n*Description:* Code optimization.Not an actual incident.\n*Message:* none\n*Customer Affected:* Yes', 'created_at': '2024-11-18T10:01:53.994Z', 'custom_tweet': None, 'deliver_notifications': True, 'display_at': '2024-11-18T10:01:53.994Z', 'status': 'investigating', 'tweet_id': None, 'twitter_updated_at': None, 'updated_at': '2024-11-18T10:01:53.994Z', 'wants_twitter_update': False}], 'metadata': {}, 'monitoring_at': '2024-11-18T10:41:21Z', 'name': 'ðŸš¨ Incident Report: SO-1659 ðŸš¨', 'page_id': 'x0c3bgkzj0yw', 'postmortem_body': None, 'postmortem_body_last_updated_at': None, 'postmortem_ignored': False, 'postmortem_notified_subscribers': False, 'postmortem_notified_twitter': False, 'postmortem_published_at': None, 'resolved_at': '2024-11-18T10:47:47Z', 'scheduled_auto_completed': False, 'scheduled_auto_in_progress': False, 'scheduled_for': None, 'auto_transition_deliver_notifications_at_end': None, 'auto_transition_deliver_notifications_at_start': None, 'auto_transition_to_maintenance_state': None, 'auto_transition_to_operational_state': None, 'scheduled_remind_prior': False, 'scheduled_reminded_at': None, 'scheduled_until': None, 'shortlink': 'https://stspg.io/w2y2v2zgl7q9', 'status': 'resolved', 'updated_at': '2024-11-18T10:47:47Z', 'reminder_intervals': None}
2024-11-19 11:19:14,147 [INFO] src.routers.incident: Starting incident creation process
2024-11-19 11:19:16,422 [INFO] src.helperFunctions.slack_utils: Successfully opened success modal in slack
2024-11-19 11:19:18,715 [INFO] src.helperFunctions.slack_utils: Slack API response in create_slack_channel: {'ok': True, 'channel': {'id': 'C081DAPLVSR', 'name': 'incident-so-1660-1732007958', 'is_channel': True, 'is_group': False, 'is_im': False, 'is_mpim': False, 'is_private': False, 'created': 1732007958, 'is_archived': False, 'is_general': False, 'unlinked': 0, 'name_normalized': 'incident-so-1660-1732007958', 'is_shared': False, 'is_org_shared': False, 'is_pending_ext_shared': False, 'pending_shared': [], 'context_team_id': 'T3GD0HY3H', 'updated': 1732007958443, 'parent_conversation': None, 'creator': 'U06PWQY0ZND', 'is_ext_shared': False, 'shared_team_ids': ['T3GD0HY3H'], 'pending_connected_team_ids': [], 'is_member': True, 'last_read': '0000000000.000000', 'topic': {'value': '', 'creator': '', 'last_set': 0}, 'purpose': {'value': '', 'creator': '', 'last_set': 0}, 'previous_names': [], 'priority': 0}}
2024-11-19 11:19:18,716 [INFO] src.helperFunctions.slack_utils: Channel created successfully. Channel ID: C081DAPLVSR
2024-11-19 11:19:18,972 [INFO] src.helperFunctions.slack_utils: Bot enabled to join the channel: C081DAPLVSR
2024-11-19 11:19:21,364 [INFO] src.helperFunctions.slack_utils: Message posted to Slack channel ID C081DAPLVSR
2024-11-19 11:19:21,365 [INFO] src.routers.incident: Posted message to incident channel incident-so-1660
2024-11-19 11:19:21,828 [INFO] src.helperFunctions.slack_utils: Message posted to Slack channel ID C07GL77APRS
2024-11-19 11:19:21,828 [INFO] src.routers.incident: Posted message to general outages channel
2024-11-19 11:19:22,242 [INFO] src.helperFunctions.slack_utils: Message posted to Slack channel ID CM9EKPHU4
2024-11-19 11:19:22,242 [INFO] src.routers.incident: Posted message to Video Distribution - Genius Live team channel
2024-11-19 11:19:22,952 [INFO] httpx: HTTP Request: POST https://api.statuspage.io/v1/pages/x0c3bgkzj0yw/incidents "HTTP/1.1 201 Created"
2024-11-19 11:19:22,954 [INFO] root: Statuspage response: 201 - {"id":"8lwd15sg6416","components":[{"id":"jmq3t1734kz6","page_id":"x0c3bgkzj0yw","group_id":null,"created_at":"2024-10-18T08:52:40Z","updated_at":"2024-11-19T09:19:22Z","group":false,"name":"API integraiton","description":"Incident managament application","position":3,"status":"degraded_performance","showcase":true,"only_show_if_degraded":false,"automation_email":"component+9d11164f9dab4617af9ee72f9832dedf@notifications.statuspage.io","start_date":"2024-10-18"}],"created_at":"2024-11-19T09:19:22Z","impact":"minor","impact_override":null,"incident_updates":[{"id":"nw02fz4rbc5b","incident_id":"8lwd15sg6416","affected_components":[{"code":"jmq3t1734kz6","name":"API integraiton","old_status":"operational","new_status":"degraded_performance"}],"body":"*Incident Summary:*\n----------------------------------\n*SO Number:* SO-1660\n*Severity Level:* Minor\n*Affected Products:* Video On Demand\n*Suspected Teams:* Video Distribution - Genius Live\n*Start Time:* 2024-11-01 02:00:00\n*Affected Components:* \n\n*Additional Details:*\n----------------------------------\n*Description:* Test description(There was an incident with one of the transcoders)\n*Message:* None\n*Customer Affected:* Yes","created_at":"2024-11-19T09:19:22.670Z","custom_tweet":null,"deliver_notifications":true,"display_at":"2024-11-19T09:19:22.670Z","status":"investigating","tweet_id":null,"twitter_updated_at":null,"updated_at":"2024-11-19T09:19:22.670Z","wants_twitter_update":false}],"metadata":{},"monitoring_at":null,"name":"ðŸš¨ Incident Report: SO-1660 ðŸš¨","page_id":"x0c3bgkzj0yw","postmortem_body":null,"postmortem_body_last_updated_at":null,"postmortem_ignored":false,"postmortem_notified_subscribers":false,"postmortem_notified_twitter":false,"postmortem_published_at":null,"resolved_at":null,"scheduled_auto_completed":false,"scheduled_auto_in_progress":false,"scheduled_for":null,"auto_transition_deliver_notifications_at_end":null,"auto_transition_deliver_notifications_at_start":null,"auto_transition_to_maintenance_state":null,"auto_transition_to_operational_state":null,"scheduled_remind_prior":false,"scheduled_reminded_at":null,"scheduled_until":null,"shortlink":"https://stspg.io/qh196zps62xs","status":"investigating","updated_at":"2024-11-19T09:19:22Z","reminder_intervals":null}
2024-11-19 11:19:22,965 [INFO] root: Statuspage incident created succesfully with and id of 8lwd15sg6416
2024-11-19 11:19:22,966 [ERROR] src.routers.incident: Unexpected error creating Statuspage incident for SO SO-1660: 'StatuspageCreationResponse' object has no attribute 'get'
2024-11-19 11:19:22,968 [INFO] src.routers.incident: Incident creation process completed
2024-11-19 11:22:55,406 [INFO] src.routers.incident: Handling /get-incident command
2024-11-19 11:23:23,813 [INFO] src.routers.incident: Handling the incident update command
2024-11-19 11:23:46,040 [INFO] httpx: HTTP Request: PATCH https://api.statuspage.io/v1/pages/x0c3bgkzj0yw/incidents/8lwd15sg6416 "HTTP/1.1 200 OK"
2024-11-19 11:23:46,042 [INFO] root: Statuspage incident updated: {'id': '8lwd15sg6416', 'components': [{'id': 'jmq3t1734kz6', 'page_id': 'x0c3bgkzj0yw', 'group_id': None, 'created_at': '2024-10-18T08:52:40Z', 'updated_at': '2024-11-19T09:23:45Z', 'group': False, 'name': 'API integraiton', 'description': 'Incident managament application', 'position': 3, 'status': 'operational', 'showcase': True, 'only_show_if_degraded': False, 'automation_email': 'component+9d11164f9dab4617af9ee72f9832dedf@notifications.statuspage.io', 'start_date': '2024-10-18'}], 'created_at': '2024-11-19T09:19:22Z', 'impact': 'minor', 'impact_override': None, 'incident_updates': [{'id': '0lb3fmgdq3pd', 'incident_id': '8lwd15sg6416', 'affected_components': [{'code': 'jmq3t1734kz6', 'name': 'API integraiton', 'old_status': 'degraded_performance', 'new_status': 'operational'}], 'body': "Status updated to 'Resolved'.\n\nRESOLVED FROM SLACK", 'created_at': '2024-11-19T09:23:45.836Z', 'custom_tweet': None, 'deliver_notifications': True, 'display_at': '2024-11-19T09:23:45.836Z', 'status': 'resolved', 'tweet_id': None, 'twitter_updated_at': None, 'updated_at': '2024-11-19T09:23:45.836Z', 'wants_twitter_update': False}, {'id': 'nw02fz4rbc5b', 'incident_id': '8lwd15sg6416', 'affected_components': [{'code': 'jmq3t1734kz6', 'name': 'API integraiton', 'old_status': 'operational', 'new_status': 'degraded_performance'}], 'body': '*Incident Summary:*\n----------------------------------\n*SO Number:* SO-1660\n*Severity Level:* Minor\n*Affected Products:* Video On Demand\n*Suspected Teams:* Video Distribution - Genius Live\n*Start Time:* 2024-11-01 02:00:00\n*Affected Components:* \n\n*Additional Details:*\n----------------------------------\n*Description:* Test description(There was an incident with one of the transcoders)\n*Message:* None\n*Customer Affected:* Yes', 'created_at': '2024-11-19T09:19:22.670Z', 'custom_tweet': None, 'deliver_notifications': True, 'display_at': '2024-11-19T09:19:22.670Z', 'status': 'investigating', 'tweet_id': None, 'twitter_updated_at': None, 'updated_at': '2024-11-19T09:19:22.670Z', 'wants_twitter_update': False}], 'metadata': {}, 'monitoring_at': None, 'name': 'ðŸš¨ Incident Report: SO-1660 ðŸš¨', 'page_id': 'x0c3bgkzj0yw', 'postmortem_body': None, 'postmortem_body_last_updated_at': None, 'postmortem_ignored': False, 'postmortem_notified_subscribers': False, 'postmortem_notified_twitter': False, 'postmortem_published_at': None, 'resolved_at': '2024-11-19T09:23:45Z', 'scheduled_auto_completed': False, 'scheduled_auto_in_progress': False, 'scheduled_for': None, 'auto_transition_deliver_notifications_at_end': None, 'auto_transition_deliver_notifications_at_start': None, 'auto_transition_to_maintenance_state': None, 'auto_transition_to_operational_state': None, 'scheduled_remind_prior': False, 'scheduled_reminded_at': None, 'scheduled_until': None, 'shortlink': 'https://stspg.io/qh196zps62xs', 'status': 'resolved', 'updated_at': '2024-11-19T09:23:45Z', 'reminder_intervals': None}
2024-11-19 13:48:28,667 [INFO] src.routers.incident: Starting incident creation process
2024-11-19 13:48:32,906 [ERROR] src.helperFunctions.slack_utils: Slack API error in open_slack_response_modal: expired_trigger_id
2024-11-19 13:48:32,907 [ERROR] src.routers.incident: Error sending Slack success message: 500: Slack API error: expired_trigger_id
2024-11-19 13:48:33,209 [ERROR] src.helperFunctions.slack_utils: Slack API error in open_slack_response_modal: expired_trigger_id
2024-11-19 13:48:33,221 [ERROR] src.routers.incident: Error in background processing: 500: Slack API error: expired_trigger_id
Traceback (most recent call last):
  File "/Users/ulvi.nasibli/Desktop/CrisisApp-Backend/src/helperFunctions/slack_utils.py", line 247, in open_slack_response_modal
    response = await run_in_executor(
               ^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/ulvi.nasibli/Desktop/CrisisApp-Backend/src/helperFunctions/slack_utils.py", line 22, in run_in_executor
    return await loop.run_in_executor(executor, lambda: (func(*args, **kwargs)))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/ulvi.nasibli/Desktop/CrisisApp-Backend/src/helperFunctions/slack_utils.py", line 22, in <lambda>
    return await loop.run_in_executor(executor, lambda: (func(*args, **kwargs)))
                                                         ~~~~^^^^^^^^^^^^^^^^^
  File "/Users/ulvi.nasibli/Desktop/CrisisApp-Backend/venv/lib/python3.13/site-packages/slack_sdk/web/client.py", line 5287, in views_open
    return self.api_call("views.open", json=kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ulvi.nasibli/Desktop/CrisisApp-Backend/venv/lib/python3.13/site-packages/slack_sdk/web/base_client.py", line 157, in api_call
    return self._sync_send(api_url=api_url, req_args=req_args)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ulvi.nasibli/Desktop/CrisisApp-Backend/venv/lib/python3.13/site-packages/slack_sdk/web/base_client.py", line 188, in _sync_send
    return self._urllib_api_call(
           ~~~~~~~~~~~~~~~~~~~~~^
        token=token,
        ^^^^^^^^^^^^
    ...<5 lines>...
        additional_headers=headers,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/ulvi.nasibli/Desktop/CrisisApp-Backend/venv/lib/python3.13/site-packages/slack_sdk/web/base_client.py", line 319, in _urllib_api_call
    ).validate()
      ~~~~~~~~^^
  File "/Users/ulvi.nasibli/Desktop/CrisisApp-Backend/venv/lib/python3.13/site-packages/slack_sdk/web/slack_response.py", line 199, in validate
    raise e.SlackApiError(message=msg, response=self)
slack_sdk.errors.SlackApiError: The request to the Slack API failed. (url: https://slack.com/api/views.open)
The server responded with: {'ok': False, 'error': 'expired_trigger_id'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ulvi.nasibli/Desktop/CrisisApp-Backend/src/routers/incident.py", line 599, in process_incident_creation
    await open_slack_response_modal(
    ...<7 lines>...
    )
  File "/Users/ulvi.nasibli/Desktop/CrisisApp-Backend/src/helperFunctions/slack_utils.py", line 265, in open_slack_response_modal
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 500: Slack API error: expired_trigger_id

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ulvi.nasibli/Desktop/CrisisApp-Backend/src/routers/incident.py", line 610, in process_incident_creation
    await open_slack_response_modal(
    ...<5 lines>...
    )
  File "/Users/ulvi.nasibli/Desktop/CrisisApp-Backend/src/helperFunctions/slack_utils.py", line 265, in open_slack_response_modal
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 500: Slack API error: expired_trigger_id
2024-11-19 13:48:33,634 [ERROR] src.helperFunctions.slack_utils: Slack API error in open_slack_response_modal: expired_trigger_id
2024-11-19 13:48:33,635 [ERROR] src.routers.incident: Error sending Slack error message: 500: Slack API error: expired_trigger_id
2024-11-19 13:48:33,635 [INFO] src.routers.incident: Incident creation process completed
2024-11-19 13:51:03,458 [INFO] src.routers.incident: Starting incident creation process
2024-11-19 13:51:05,637 [INFO] src.helperFunctions.slack_utils: Successfully opened success modal in slack
2024-11-19 13:51:08,268 [INFO] src.helperFunctions.slack_utils: Slack API response in create_slack_channel: {'ok': True, 'channel': {'id': 'C081A8C0LBG', 'name': 'incident-so-1662-1732017067', 'is_channel': True, 'is_group': False, 'is_im': False, 'is_mpim': False, 'is_private': False, 'created': 1732017068, 'is_archived': False, 'is_general': False, 'unlinked': 0, 'name_normalized': 'incident-so-1662-1732017067', 'is_shared': False, 'is_org_shared': False, 'is_pending_ext_shared': False, 'pending_shared': [], 'context_team_id': 'T3GD0HY3H', 'updated': 1732017068045, 'parent_conversation': None, 'creator': 'U06PWQY0ZND', 'is_ext_shared': False, 'shared_team_ids': ['T3GD0HY3H'], 'pending_connected_team_ids': [], 'is_member': True, 'last_read': '0000000000.000000', 'topic': {'value': '', 'creator': '', 'last_set': 0}, 'purpose': {'value': '', 'creator': '', 'last_set': 0}, 'previous_names': [], 'priority': 0}}
2024-11-19 13:51:08,319 [INFO] src.helperFunctions.slack_utils: Channel created successfully. Channel ID: C081A8C0LBG
2024-11-19 13:51:08,930 [INFO] src.helperFunctions.slack_utils: Bot enabled to join the channel: C081A8C0LBG
2024-11-19 13:51:11,271 [INFO] src.helperFunctions.slack_utils: Message posted to Slack channel ID C081A8C0LBG
2024-11-19 13:51:11,272 [INFO] src.routers.incident: Posted message to incident channel incident-so-1662
2024-11-19 13:51:11,707 [INFO] src.helperFunctions.slack_utils: Message posted to Slack channel ID C07GL77APRS
2024-11-19 13:51:11,707 [INFO] src.routers.incident: Posted message to general outages channel
2024-11-19 13:51:12,065 [INFO] src.helperFunctions.slack_utils: Message posted to Slack channel ID CM9EKPHU4
2024-11-19 13:51:12,097 [INFO] src.routers.incident: Posted message to Video Distribution - Genius Live team channel
2024-11-19 13:51:13,172 [INFO] httpx: HTTP Request: POST https://api.statuspage.io/v1/pages/x0c3bgkzj0yw/incidents "HTTP/1.1 201 Created"
2024-11-19 13:51:13,174 [INFO] root: Statuspage response: 201 - {"id":"wh3jjlkl6ztg","components":[{"id":"jmq3t1734kz6","page_id":"x0c3bgkzj0yw","group_id":null,"created_at":"2024-10-18T08:52:40Z","updated_at":"2024-11-19T11:51:12Z","group":false,"name":"API integraiton","description":"Incident managament application","position":3,"status":"degraded_performance","showcase":true,"only_show_if_degraded":false,"automation_email":"component+9d11164f9dab4617af9ee72f9832dedf@notifications.statuspage.io","start_date":"2024-10-18"}],"created_at":"2024-11-19T11:51:12Z","impact":"minor","impact_override":null,"incident_updates":[{"id":"zmqmzh1pv929","incident_id":"wh3jjlkl6ztg","affected_components":[{"code":"jmq3t1734kz6","name":"API integraiton","old_status":"operational","new_status":"degraded_performance"}],"body":"*Incident Summary:*\n----------------------------------\n*SO Number:* SO-1662\n*Severity Level:* Minor\n*Affected Products:* Video Streaming\n*Suspected Teams:* Video Distribution - Genius Live\n*Start Time:* 2024-11-02 02:00:00\n*Affected Components:* \n\n*Additional Details:*\n----------------------------------\n*Description:* TEST\n*Message:* TEST\n*Customer Affected:* Yes","created_at":"2024-11-19T11:51:13.011Z","custom_tweet":null,"deliver_notifications":true,"display_at":"2024-11-19T11:51:13.011Z","status":"investigating","tweet_id":null,"twitter_updated_at":null,"updated_at":"2024-11-19T11:51:13.011Z","wants_twitter_update":false}],"metadata":{},"monitoring_at":null,"name":"ðŸš¨ Incident Report: SO-1662 ðŸš¨","page_id":"x0c3bgkzj0yw","postmortem_body":null,"postmortem_body_last_updated_at":null,"postmortem_ignored":false,"postmortem_notified_subscribers":false,"postmortem_notified_twitter":false,"postmortem_published_at":null,"resolved_at":null,"scheduled_auto_completed":false,"scheduled_auto_in_progress":false,"scheduled_for":null,"auto_transition_deliver_notifications_at_end":null,"auto_transition_deliver_notifications_at_start":null,"auto_transition_to_maintenance_state":null,"auto_transition_to_operational_state":null,"scheduled_remind_prior":false,"scheduled_reminded_at":null,"scheduled_until":null,"shortlink":"https://stspg.io/9p7zv8m0pqfc","status":"investigating","updated_at":"2024-11-19T11:51:13Z","reminder_intervals":null}
2024-11-19 13:51:13,194 [INFO] root: Statuspage incident created succesfully with and id of wh3jjlkl6ztg
2024-11-19 13:51:13,194 [ERROR] src.routers.incident: Unexpected error creating Statuspage incident for SO SO-1662: 'StatuspageCreationResponse' object has no attribute 'get'
2024-11-19 13:51:13,199 [INFO] src.helperFunctions.opsgenie: Creating OpsGenie alert for incident SO-1662
2024-11-19 13:51:13,622 [ERROR] src.routers.incident: Failed to create OpsGenie alert
2024-11-19 13:51:13,622 [INFO] src.routers.incident: Incident creation process completed
2024-11-19 13:52:22,167 [ERROR] root: Unexpected error: '<' not supported between instances of 'NoneType' and 'int'
2024-11-19 13:54:31,389 [INFO] src.routers.incident: Handling /get-incident command
2024-11-19 13:55:05,414 [INFO] src.routers.incident: Handling /get-incident command
2024-11-19 13:57:10,604 [INFO] src.routers.incident: Handling the incident update command
2024-11-19 13:57:47,391 [INFO] httpx: HTTP Request: PATCH https://api.statuspage.io/v1/pages/x0c3bgkzj0yw/incidents/wh3jjlkl6ztg "HTTP/1.1 200 OK"
2024-11-19 13:57:47,434 [INFO] root: Statuspage incident updated: {'id': 'wh3jjlkl6ztg', 'components': [{'id': 'jmq3t1734kz6', 'page_id': 'x0c3bgkzj0yw', 'group_id': None, 'created_at': '2024-10-18T08:52:40Z', 'updated_at': '2024-11-19T11:57:47Z', 'group': False, 'name': 'API integraiton', 'description': 'Incident managament application', 'position': 3, 'status': 'operational', 'showcase': True, 'only_show_if_degraded': False, 'automation_email': 'component+9d11164f9dab4617af9ee72f9832dedf@notifications.statuspage.io', 'start_date': '2024-10-18'}], 'created_at': '2024-11-19T11:51:12Z', 'impact': 'minor', 'impact_override': None, 'incident_updates': [{'id': '0h2z9mby8xv0', 'incident_id': 'wh3jjlkl6ztg', 'affected_components': [{'code': 'jmq3t1734kz6', 'name': 'API integraiton', 'old_status': 'degraded_performance', 'new_status': 'operational'}], 'body': "Status updated to 'Resolved'.\n\nresolved from slack", 'created_at': '2024-11-19T11:57:47.183Z', 'custom_tweet': None, 'deliver_notifications': True, 'display_at': '2024-11-19T11:57:47.183Z', 'status': 'resolved', 'tweet_id': None, 'twitter_updated_at': None, 'updated_at': '2024-11-19T11:57:47.183Z', 'wants_twitter_update': False}, {'id': 'zmqmzh1pv929', 'incident_id': 'wh3jjlkl6ztg', 'affected_components': [{'code': 'jmq3t1734kz6', 'name': 'API integraiton', 'old_status': 'operational', 'new_status': 'degraded_performance'}], 'body': '*Incident Summary:*\n----------------------------------\n*SO Number:* SO-1662\n*Severity Level:* Minor\n*Affected Products:* Video Streaming\n*Suspected Teams:* Video Distribution - Genius Live\n*Start Time:* 2024-11-02 02:00:00\n*Affected Components:* \n\n*Additional Details:*\n----------------------------------\n*Description:* TEST\n*Message:* TEST\n*Customer Affected:* Yes', 'created_at': '2024-11-19T11:51:13.011Z', 'custom_tweet': None, 'deliver_notifications': True, 'display_at': '2024-11-19T11:51:13.011Z', 'status': 'investigating', 'tweet_id': None, 'twitter_updated_at': None, 'updated_at': '2024-11-19T11:51:13.011Z', 'wants_twitter_update': False}], 'metadata': {}, 'monitoring_at': None, 'name': 'ðŸš¨ Incident Report: SO-1662 ðŸš¨', 'page_id': 'x0c3bgkzj0yw', 'postmortem_body': None, 'postmortem_body_last_updated_at': None, 'postmortem_ignored': False, 'postmortem_notified_subscribers': False, 'postmortem_notified_twitter': False, 'postmortem_published_at': None, 'resolved_at': '2024-11-19T11:57:47Z', 'scheduled_auto_completed': False, 'scheduled_auto_in_progress': False, 'scheduled_for': None, 'auto_transition_deliver_notifications_at_end': None, 'auto_transition_deliver_notifications_at_start': None, 'auto_transition_to_maintenance_state': None, 'auto_transition_to_operational_state': None, 'scheduled_remind_prior': False, 'scheduled_reminded_at': None, 'scheduled_until': None, 'shortlink': 'https://stspg.io/9p7zv8m0pqfc', 'status': 'resolved', 'updated_at': '2024-11-19T11:57:47Z', 'reminder_intervals': None}
2024-11-27 11:57:30,042 [ERROR] root: Unexpected error: create_modal_view() missing 1 required positional argument: 'suggested_so_number'
2024-11-27 12:02:27,981 [ERROR] root: Unexpected error: Object of type coroutine is not JSON serializable
2024-11-27 12:05:31,507 [INFO] src.routers.incident: Handling /get-incident command
2024-11-27 12:05:38,407 [ERROR] root: Unexpected error: Object of type coroutine is not JSON serializable
2024-11-27 12:12:50,072 [ERROR] root: Unexpected error: Object of type coroutine is not JSON serializable
2024-11-27 12:14:58,194 [ERROR] root: Unexpected error: 'module' object is not callable
2024-11-27 12:19:21,938 [ERROR] root: Unexpected error: Object of type coroutine is not JSON serializable
2024-11-27 12:27:08,282 [ERROR] root: Unexpected error: Object of type coroutine is not JSON serializable
2024-11-27 12:32:04,895 [ERROR] root: Unexpected error: create_modal_view() missing 1 required positional argument: 'options'
2024-11-27 12:32:33,713 [ERROR] root: Unexpected error: Object of type coroutine is not JSON serializable
2024-11-27 12:36:49,724 [ERROR] root: Unexpected error: Object of type coroutine is not JSON serializable
2024-11-27 12:38:46,555 [ERROR] root: Unexpected error: object Incident can't be used in 'await' expression
2024-11-27 12:39:26,358 [ERROR] root: Unexpected error: object Incident can't be used in 'await' expression
2024-11-27 12:40:13,973 [INFO] httpx: HTTP Request: POST https://slack.com/api/views.open "HTTP/1.1 200 OK"
2024-11-27 14:01:25,471 [INFO] httpx: HTTP Request: POST https://slack.com/api/views.open "HTTP/1.1 200 OK"
2024-11-27 14:02:46,550 [INFO] src.routers.incident: Starting incident creation process
2024-11-27 14:02:46,551 [ERROR] src.routers.incident: Error in background processing: cannot access local variable 'incident' where it is not associated with a value
Traceback (most recent call last):
  File "/Users/ulvi.nasibli/Desktop/CrisisApp-Backend/src/routers/incident.py", line 626, in process_incident_creation
    if not incident.data.get("so_number"):
           ^^^^^^^^
UnboundLocalError: cannot access local variable 'incident' where it is not associated with a value
2024-11-27 14:02:47,050 [INFO] src.helperFunctions.slack_utils: Successfully opened error modal in slack
2024-11-27 14:02:47,050 [INFO] src.routers.incident: Incident creation process completed
2024-11-27 14:09:20,330 [INFO] httpx: HTTP Request: POST https://slack.com/api/views.open "HTTP/1.1 200 OK"
2024-11-27 14:27:01,593 [INFO] httpx: HTTP Request: POST https://slack.com/api/views.open "HTTP/1.1 200 OK"
2024-11-27 14:27:47,499 [INFO] src.routers.incident: Starting incident creation process
2024-11-27 14:27:49,424 [INFO] src.helperFunctions.slack_utils: Successfully opened success modal in slack
2024-11-27 14:27:51,934 [INFO] src.helperFunctions.slack_utils: Slack API response in create_slack_channel: {'ok': True, 'channel': {'id': 'C082Q0GDWV9', 'name': 'incident-so-1666-1732710471', 'is_channel': True, 'is_group': False, 'is_im': False, 'is_mpim': False, 'is_private': False, 'created': 1732710471, 'is_archived': False, 'is_general': False, 'unlinked': 0, 'name_normalized': 'incident-so-1666-1732710471', 'is_shared': False, 'is_org_shared': False, 'is_pending_ext_shared': False, 'pending_shared': [], 'context_team_id': 'T3GD0HY3H', 'updated': 1732710471727, 'parent_conversation': None, 'creator': 'U06PWQY0ZND', 'is_ext_shared': False, 'shared_team_ids': ['T3GD0HY3H'], 'pending_connected_team_ids': [], 'is_member': True, 'last_read': '0000000000.000000', 'topic': {'value': '', 'creator': '', 'last_set': 0}, 'purpose': {'value': '', 'creator': '', 'last_set': 0}, 'previous_names': [], 'priority': 0}}
2024-11-27 14:27:51,934 [INFO] src.helperFunctions.slack_utils: Channel created successfully. Channel ID: C082Q0GDWV9
2024-11-27 14:27:52,200 [INFO] src.helperFunctions.slack_utils: Bot enabled to join the channel: C082Q0GDWV9
2024-11-27 14:27:54,535 [INFO] src.helperFunctions.slack_utils: Message posted to Slack channel ID C082Q0GDWV9
2024-11-27 14:27:54,535 [INFO] src.routers.incident: Posted message to incident channel incident-so-1666
2024-11-27 14:27:54,862 [INFO] src.helperFunctions.slack_utils: Message posted to Slack channel ID C07GL77APRS
2024-11-27 14:27:54,862 [INFO] src.routers.incident: Posted message to general outages channel
2024-11-27 14:27:54,862 [WARNING] src.helperFunctions.team_channel_mapping_to_slack: No channel ID found for team: Digital Marketing
2024-11-27 14:27:55,479 [INFO] httpx: HTTP Request: POST https://api.statuspage.io/v1/pages/x0c3bgkzj0yw/incidents "HTTP/1.1 201 Created"
2024-11-27 14:27:55,480 [INFO] root: Statuspage response: 201 - {"id":"ybr20q5t4x7n","components":[{"id":"jmq3t1734kz6","page_id":"x0c3bgkzj0yw","group_id":null,"created_at":"2024-10-18T08:52:40Z","updated_at":"2024-11-27T12:27:55Z","group":false,"name":"API integraiton","description":"Incident managament application","position":3,"status":"degraded_performance","showcase":true,"only_show_if_degraded":false,"automation_email":"component+9d11164f9dab4617af9ee72f9832dedf@notifications.statuspage.io","start_date":"2024-10-18"}],"created_at":"2024-11-27T12:27:55Z","impact":"minor","impact_override":null,"incident_updates":[{"id":"5454cf08dybv","incident_id":"ybr20q5t4x7n","affected_components":[{"code":"jmq3t1734kz6","name":"API integraiton","old_status":"operational","new_status":"degraded_performance"}],"body":"*Incident Summary:*\n----------------------------------\n*SO Number:* SO-1666\n*Severity Level:* Minor\n*Affected Products:* Advanced Risk\n*Suspected Teams:* Digital Marketing\n*Start Time:* 2024-11-02 02:00:00\n*Affected Components:* \n\n*Additional Details:*\n----------------------------------\n*Description:* automation tool test.not an incident\n*Message:* none for now\n*Customer Affected:* Yes","created_at":"2024-11-27T12:27:55.300Z","custom_tweet":null,"deliver_notifications":true,"display_at":"2024-11-27T12:27:55.300Z","status":"investigating","tweet_id":null,"twitter_updated_at":null,"updated_at":"2024-11-27T12:27:55.300Z","wants_twitter_update":false}],"metadata":{},"monitoring_at":null,"name":"ðŸš¨ Incident Report: SO-1666 ðŸš¨","page_id":"x0c3bgkzj0yw","postmortem_body":null,"postmortem_body_last_updated_at":null,"postmortem_ignored":false,"postmortem_notified_subscribers":false,"postmortem_notified_twitter":false,"postmortem_published_at":null,"resolved_at":null,"scheduled_auto_completed":false,"scheduled_auto_in_progress":false,"scheduled_for":null,"auto_transition_deliver_notifications_at_end":null,"auto_transition_deliver_notifications_at_start":null,"auto_transition_to_maintenance_state":null,"auto_transition_to_operational_state":null,"scheduled_remind_prior":false,"scheduled_reminded_at":null,"scheduled_until":null,"shortlink":"https://stspg.io/twgp12qvjf06","status":"investigating","updated_at":"2024-11-27T12:27:55Z","reminder_intervals":null}
2024-11-27 14:27:55,485 [INFO] root: Statuspage incident created succesfully with and id of ybr20q5t4x7n
2024-11-27 14:27:55,485 [ERROR] src.routers.incident: Unexpected error creating Statuspage incident for SO SO-1666: 'StatuspageCreationResponse' object has no attribute 'get'
2024-11-27 14:27:55,488 [INFO] src.helperFunctions.opsgenie: Creating OpsGenie alert for incident SO-1666
2024-11-27 14:27:55,891 [ERROR] src.routers.incident: Failed to create OpsGenie alert
2024-11-27 14:27:55,891 [INFO] src.routers.incident: Incident creation process completed
2024-11-27 14:28:05,876 [ERROR] root: Unexpected error: '<' not supported between instances of 'NoneType' and 'int'
2024-11-27 14:28:26,125 [INFO] src.routers.incident: Handling /get-incident command
2024-11-27 14:30:14,805 [INFO] httpx: HTTP Request: POST https://slack.com/api/views.open "HTTP/1.1 200 OK"
2024-11-27 14:30:39,108 [INFO] src.routers.incident: Handling the incident update command
2024-11-27 14:30:57,680 [INFO] httpx: HTTP Request: PATCH https://api.statuspage.io/v1/pages/x0c3bgkzj0yw/incidents/ybr20q5t4x7n "HTTP/1.1 200 OK"
2024-11-27 14:30:57,682 [INFO] root: Statuspage incident updated: {'id': 'ybr20q5t4x7n', 'components': [{'id': 'jmq3t1734kz6', 'page_id': 'x0c3bgkzj0yw', 'group_id': None, 'created_at': '2024-10-18T08:52:40Z', 'updated_at': '2024-11-27T12:30:57Z', 'group': False, 'name': 'API integraiton', 'description': 'Incident managament application', 'position': 3, 'status': 'operational', 'showcase': True, 'only_show_if_degraded': False, 'automation_email': 'component+9d11164f9dab4617af9ee72f9832dedf@notifications.statuspage.io', 'start_date': '2024-10-18'}], 'created_at': '2024-11-27T12:27:55Z', 'impact': 'minor', 'impact_override': None, 'incident_updates': [{'id': 'yzb0tkcc2x15', 'incident_id': 'ybr20q5t4x7n', 'affected_components': [{'code': 'jmq3t1734kz6', 'name': 'API integraiton', 'old_status': 'degraded_performance', 'new_status': 'operational'}], 'body': "Status updated to 'Resolved'.\n\nresolved from slack UI", 'created_at': '2024-11-27T12:30:57.507Z', 'custom_tweet': None, 'deliver_notifications': True, 'display_at': '2024-11-27T12:30:57.507Z', 'status': 'resolved', 'tweet_id': None, 'twitter_updated_at': None, 'updated_at': '2024-11-27T12:30:57.507Z', 'wants_twitter_update': False}, {'id': '5454cf08dybv', 'incident_id': 'ybr20q5t4x7n', 'affected_components': [{'code': 'jmq3t1734kz6', 'name': 'API integraiton', 'old_status': 'operational', 'new_status': 'degraded_performance'}], 'body': '*Incident Summary:*\n----------------------------------\n*SO Number:* SO-1666\n*Severity Level:* Minor\n*Affected Products:* Advanced Risk\n*Suspected Teams:* Digital Marketing\n*Start Time:* 2024-11-02 02:00:00\n*Affected Components:* \n\n*Additional Details:*\n----------------------------------\n*Description:* automation tool test.not an incident\n*Message:* none for now\n*Customer Affected:* Yes', 'created_at': '2024-11-27T12:27:55.300Z', 'custom_tweet': None, 'deliver_notifications': True, 'display_at': '2024-11-27T12:27:55.300Z', 'status': 'investigating', 'tweet_id': None, 'twitter_updated_at': None, 'updated_at': '2024-11-27T12:27:55.300Z', 'wants_twitter_update': False}], 'metadata': {}, 'monitoring_at': None, 'name': 'ðŸš¨ Incident Report: SO-1666 ðŸš¨', 'page_id': 'x0c3bgkzj0yw', 'postmortem_body': None, 'postmortem_body_last_updated_at': None, 'postmortem_ignored': False, 'postmortem_notified_subscribers': False, 'postmortem_notified_twitter': False, 'postmortem_published_at': None, 'resolved_at': '2024-11-27T12:30:57Z', 'scheduled_auto_completed': False, 'scheduled_auto_in_progress': False, 'scheduled_for': None, 'auto_transition_deliver_notifications_at_end': None, 'auto_transition_deliver_notifications_at_start': None, 'auto_transition_to_maintenance_state': None, 'auto_transition_to_operational_state': None, 'scheduled_remind_prior': False, 'scheduled_reminded_at': None, 'scheduled_until': None, 'shortlink': 'https://stspg.io/twgp12qvjf06', 'status': 'resolved', 'updated_at': '2024-11-27T12:30:57Z', 'reminder_intervals': None}
2024-11-27 14:38:32,863 [INFO] httpx: HTTP Request: POST https://slack.com/api/views.open "HTTP/1.1 200 OK"
